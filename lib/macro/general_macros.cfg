
[gcode_macro MOTOR_OFF]
gcode:
   M18

[gcode_macro CANCEL_PRINT]
rename_existing: BASE_CANCEL_PRINT
gcode:
   TURN_OFF_HEATERS
   CLEAR_PAUSE
   SDCARD_RESET_FILE
   BASE_CANCEL_PRINT
   G0 X5 Y20 F10

[gcode_macro RESUME]
rename_existing: BASE_RESUME
#default_parameter_E: 0.5      #edit to your retract length
gcode:
   G91
   G1 E{E} F2100
   G90
   RESTORE_GCODE_STATE NAME=PAUSE_state MOVE=1
   BASE_RESUME
